{
  "version": "2.0.0",
  "tasks": [
    // ============================================
    // ğŸ—ï¸ BUILD & COMPILE TASKS
    // ============================================
    {
      "label": "ğŸ”¨ Build TypeScript",
      "type": "shell",
      "command": "npm",
      "args": ["run", "build"],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "problemMatcher": ["$tsc"],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "focus": false
      }
    },
    {
      "label": "ğŸ” TypeScript Type Check",
      "type": "shell",
      "command": "npx",
      "args": ["tsc", "--noEmit", "--pretty"],
      "problemMatcher": ["$tsc-watch"],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ§¹ Clean Build",
      "type": "shell",
      "command": "rm -rf trading-bot/**/*.js && echo 'âœ… Cleaned all compiled JS files'",
      "problemMatcher": []
    },
    
    // ============================================
    // ğŸ§ª TESTING TASKS
    // ============================================
    {
      "label": "ğŸ§ª Run All Tests",
      "type": "shell",
      "command": "npm",
      "args": ["test"],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "ğŸ¯ Run Tests with Coverage",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:coverage"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "âš¡ Run Tests (Watch Mode)",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:watch"],
      "isBackground": true,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    
    // ============================================
    // ğŸ¤– BOT OPERATION TASKS
    // ============================================
    {
      "label": "ğŸš€ Start Bot - Simulation",
      "type": "shell",
      "command": "MODE=simulation npm start",
      "isBackground": true,
      "problemMatcher": {
        "pattern": {
          "regexp": "^(.*)$",
          "file": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^.*Starting autonomous trading bot.*$",
          "endsPattern": "^.*Health server running.*$"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "ğŸ§ª Start Bot - Backtest",
      "type": "shell",
      "command": "MODE=backtest npm start",
      "isBackground": true,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "âš¡ Start Bot - Live (PRODUCTION)",
      "type": "shell",
      "command": "MODE=live ENABLE_REAL_TRADING=true npm start",
      "isBackground": true,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    },
    
    // ============================================
    // ğŸ“Š MONITORING & HEALTH CHECKS
    // ============================================
    {
      "label": "ğŸ©º Health Check",
      "type": "shell",
      "command": "curl -s http://localhost:3001/health | jq",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ“Š Portfolio Status",
      "type": "shell",
      "command": "curl -s http://localhost:3001/api/portfolio | jq",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ§  Ensemble ML Status",
      "type": "shell",
      "command": "curl -s http://localhost:3001/api/ensemble/status | jq",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ“ˆ Prometheus Metrics",
      "type": "shell",
      "command": "curl -s http://localhost:3001/metrics",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    
    // ============================================
    // ğŸ”§ DEVELOPMENT UTILITIES
    // ============================================
    {
      "label": "ğŸ¨ Format Code (Prettier)",
      "type": "shell",
      "command": "npx",
      "args": ["prettier", "--write", "**/*.{ts,js,json}"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ” Lint TypeScript",
      "type": "shell",
      "command": "npx",
      "args": ["eslint", ".", "--ext", ".ts"],
      "problemMatcher": ["$eslint-stylish"],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ§¹ Clean Cache",
      "type": "shell",
      "command": "rm -rf node_modules/.cache .ts-node && echo 'âœ… Cache cleared'",
      "problemMatcher": []
    },
    
    // ============================================
    // ğŸ“¦ DEPENDENCY MANAGEMENT
    // ============================================
    {
      "label": "ğŸ“¦ Install Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["install"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ”„ Update Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["update"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ” Audit Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["audit"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    
    // ============================================
    // ğŸŒ VPS DEPLOYMENT TASKS
    // ============================================
    {
      "label": "ğŸš€ Open Dashboard",
      "type": "shell",
      "command": "powershell",
      "args": ["-ExecutionPolicy", "Bypass", "-File", "${workspaceFolder}/open-dashboard.ps1"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "ğŸ“Š Check Bot Status",
      "type": "shell",
      "command": "powershell",
      "args": ["-ExecutionPolicy", "Bypass", "-File", "${workspaceFolder}/check-status.ps1"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    },
    {
      "label": "ğŸ”— Connect to VPS",
      "type": "shell",
      "command": "powershell",
      "args": ["-ExecutionPolicy", "Bypass", "-File", "${workspaceFolder}/connect-vps.ps1"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    },
    {
      "label": "ğŸ“œ View Bot Logs",
      "type": "shell",
      "command": "ssh",
      "args": ["root@64.226.70.149", "pm2 logs turbo-bot --lines 50 --nostream"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    },
    {
      "label": "ğŸ”„ Restart Bot",
      "type": "shell",
      "command": "ssh",
      "args": ["root@64.226.70.149", "pm2 restart all"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    },
    {
      "label": "âš™ï¸ PM2 Status",
      "type": "shell",
      "command": "ssh",
      "args": ["root@64.226.70.149", "pm2 status"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true
      }
    }
  ]
}
