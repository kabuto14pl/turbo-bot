{{ define "slack.default.title" }}
[{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] {{ .CommonLabels.alertname }}
{{ end }}

{{ define "slack.default.text" }}
{{ range .Alerts }}
*Alert:* {{ .Annotations.summary }}
*Description:* {{ .Annotations.description }}
*Details:*
{{ range .Labels.SortedPairs }}â€¢ *{{ .Name }}:* `{{ .Value }}`
{{ end }}
*Value:* {{ .ValueString }}
*Started:* {{ .StartsAt | since }}
{{ end }}
{{ end }}

{{ define "slack.default.footer" }}
{{ if gt (len .Alerts.Firing) 0 }}
*Firing:* {{ .Alerts.Firing | len }}
{{ end }}
{{ if gt (len .Alerts.Resolved) 0 }}
*Resolved:* {{ .Alerts.Resolved | len }}
{{ end }}
*Source:* {{ template "slack.default.source" . }}
*Dashboard:* {{ template "slack.default.dashboard" . }}
{{ end }}

{{ define "slack.default.source" }}
Trading Bot - {{ .CommonLabels.instance }}
{{ end }}

{{ define "slack.default.dashboard" }}
http://localhost:3000/d/trading/trading-dashboard
{{ end }} 