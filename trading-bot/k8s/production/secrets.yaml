# ðŸš€ [PRODUCTION-CONFIG]
# Production deployment configuration
apiVersion: v1
kind: Secret
metadata:
  name: trading-bot-secrets
  namespace: trading-bot-final-production
  labels:
    app: trading-bot
type: Opaque
stringData:
  # OKX API Credentials (Demo/Production)
  OKX_API_KEY: "your-okx-api-key"
  OKX_SECRET_KEY: "your-okx-secret-key"
  OKX_PASSPHRASE: "your-okx-passphrase"
  
  # Database Credentials
  DB_PASSWORD: "your-database-password"
  DB_ENCRYPTION_KEY: "your-32-character-encryption-key"
  
  # Kafka Credentials
  KAFKA_USERNAME: "trading-bot"
  KAFKA_PASSWORD: "your-kafka-password"
  KAFKA_SSL_KEY: "your-kafka-ssl-key"
  KAFKA_SSL_CERT: "your-kafka-ssl-cert"
  
  # Monitoring & Alerting
  PROMETHEUS_TOKEN: "your-prometheus-token"
  GRAFANA_API_KEY: "your-grafana-api-key"
  SLACK_WEBHOOK_URL: "your-slack-webhook-url"
  
  # Security & Compliance
  JWT_SECRET: "your-jwt-secret-key"
  ENCRYPTION_PASSPHRASE: "your-encryption-passphrase"
  GDPR_AUDIT_KEY: "your-gdpr-audit-key"
  
  # External Services
  NEWS_API_KEY: "your-news-api-key"
  TWITTER_API_KEY: "your-twitter-api-key"
  TWITTER_API_SECRET: "your-twitter-api-secret"
  REDDIT_CLIENT_ID: "your-reddit-client-id"
  REDDIT_CLIENT_SECRET: "your-reddit-client-secret"

---
apiVersion: v1
kind: Secret
metadata:
  name: registry-credentials
  namespace: trading-bot-final-production
  labels:
    app: trading-bot
type: kubernetes.io/dockerconfigjson
stringData:
  .dockerconfigjson: |
    {
      "auths": {
        "ghcr.io": {
          "username": "your-github-username",
          "password": "your-github-token",
          "email": "your-email@example.com",
          "auth": "base64-encoded-username:token"
        }
      }
    }

---
apiVersion: v1
kind: Secret
metadata:
  name: tls-certificates
  namespace: trading-bot-final-production
  labels:
    app: trading-bot
type: kubernetes.io/tls
stringData:
  tls.crt: |
    -----BEGIN CERTIFICATE-----
    # Your TLS certificate content
    # Replace with actual certificate from your CA
    -----END CERTIFICATE-----
  tls.key: |
    -----BEGIN PRIVATE KEY-----
    # Your TLS private key content
    # Replace with actual private key
    -----END PRIVATE KEY-----

---
# Service Account for trading bot with minimal permissions
apiVersion: v1
kind: ServiceAccount
metadata:
  name: trading-bot-sa
  namespace: trading-bot-final-production
  labels:
    app: trading-bot
secrets:
- name: trading-bot-secrets
imagePullSecrets:
- name: registry-credentials
automountServiceAccountToken: false

---
# RBAC: ClusterRole for trading bot (minimal permissions)
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: trading-bot-cluster-role
rules:
- apiGroups: [""]
  resources: ["nodes"]
  verbs: ["get", "list"]
- apiGroups: ["metrics.k8s.io"]
  resources: ["nodes", "pods"]
  verbs: ["get", "list"]

---
# RBAC: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: trading-bot-cluster-binding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: trading-bot-cluster-role
subjects:
- kind: ServiceAccount
  name: trading-bot-sa
  namespace: trading-bot-final-production

---
# RBAC: Role for namespace-specific permissions
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: trading-bot-final-production
  name: trading-bot-role
rules:
- apiGroups: [""]
  resources: ["configmaps", "secrets"]
  verbs: ["get", "list"]
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["get", "list", "watch"]
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "watch"]

---
# RBAC: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: trading-bot-binding
  namespace: trading-bot-final-production
subjects:
- kind: ServiceAccount
  name: trading-bot-sa
  namespace: trading-bot-final-production
roleRef:
  kind: Role
  name: trading-bot-role
  apiGroup: rbac.authorization.k8s.io
